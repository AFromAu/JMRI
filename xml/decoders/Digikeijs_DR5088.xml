<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../XSLT/decoder.xsl"?>

<!-- Copyright (C) JMRI 2020 All rights reserved   -->
<!-- LOCONETLNCVMODE requires 3 elements to address an LNCV module on LocoNet:
1. Article Number (aka type/class ID) = decoder model productID (integer)
2. Module Address (optional, see below)
3. CV number
For processing by JMRI LnOpsProgrammer, elements 1. and 3. are combined in the CV number e.g., "1.3".
Uhlenbrock and Digikeijs/Digirails publish the Article number for each (new) device.
The  DR5088RC DigiDetect has an Article number 5088, which was registered with Uhlenbrock.
Older LNCV devices may not have their own address, or even no article. They can be programmed using
Broadcast mode, but you have to be sure only one such device is powered, as they all would respond to
programming commands. See LNCV help in help/en/package/jmri/jmrix/loconet/swing/lncvprog/LncvProgPane.shtml -->

<decoder-config xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://jmri.org/xml/schema/decoder.xsd" showEmptyPanes="no">
    <version author="Egbert Broerse" version="1.0" lastUpdated="20220520"/>
    <!-- version 1 - new decoder definition using new programming mode LOCONETLNCVMODE, requires JMRI 4.22 or later -->

    <decoder>
        <family name="DR5088RC" mfg="Digikeijs" type="stationary">
            <model model="DR5088" productID="5088" formFactor="Stationary" comment="16 port LocoNet Feedback module with RailCom">
              <versionCV />
              <size length="102" width="86" height="20" units="mm" />
            </model>
        </family>

        <programming direct="no" paged="no" register="no" ops="no">
          <mode>LOCONETLNCVMODE</mode>
        </programming>

        <variables>
            <variable CV="5088.0" item="Long Address" mask="VVVVVVVVVVVVVV" default="1" comment="Board address" >
              <decVal min="0" max="9999"/>
              <label xml:lang="it">Indirizzo Primario: </label>
              <label xml:lang="fr">Adresse décodeur: </label>
              <label xml:lang="de">Decoderadresse: </label>
              <label xml:lang="nl">Decoderadres: </label>
              <label xml:lang="cs">Adresa dekodéru: </label>
              <label>Decoder Address: </label>
              <tooltip>Enter as decimal value (1-9999)</tooltip>
              <tooltip xml:lang="cs">Zadejte desítkovou hodnotu (1-9999)</tooltip>
            </variable>
            <variable CV="5088.1" item="Decoder Version" readOnly="yes">
              <decVal/>
              <label xml:lang="it">Versione: </label>
              <label xml:lang="fr">Version: </label>
              <label xml:lang="de">Version: </label>
              <label xml:lang="nl">Firmware-versie: </label>
              <label xml:lang="cs">Verze firmware: </label>
              <label>Firmware Version: </label>
            </variable>

            <variable CV="5088.3" item="Report Direction" default="0">
              <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
              <label xml:lang="de">LocoNet Richtung Berichten</label>
              <label xml:lang="nl">LocoNet Richting Rapporteren</label>
              <label xml:lang="cs">LocoNet Report of Direction</label>
              <label>LocoNet Report of Direction</label>
            </variable>
            <variable CV="5088.4" item="Configuration">
              <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
              <label xml:lang="de">Configuration</label>
              <label xml:lang="fr">Configuration</label>
              <label xml:lang="nl">Configuratie</label>
              <label xml:lang="cs">Configuration</label>
              <label>Configuration:</label>
            </variable>

          <!--  TODO add CV 5088.5 to .10 -->
        </variables>
    </decoder>

    <pane>
        <name>LNCV Configuration</name>
        <name xml:lang="de">LNCV Konfiguration</name>
        <name xml:lang="nl">LNCV Confuguratie</name>
        <name xml:lang="cs">Konfigurace LNCV</name>
        <row>
          <column>
              <label>
                <text>Before writing, open a Programming</text>
                <text xml:lang="nl">Voordat je waarden schrijft eerst</text>
                <text xml:lang="de">Bevor man Werten schreiben darf, zuerst mit Hilfe des LNCV</text>
                  <text xml:lang="cs">Před zápisem hodnot otevřete relaci programování</text>
              </label>
              <label>
                <text>session using the LocoNet LNCV Tool.</text>
                <text xml:lang="nl">een Programmeersessie starten met het LocoNet LNCV Gereedschap.</text>
                <text xml:lang="de">Werkzeugs einen LNCV Programmieraufgang starten.</text>
                  <text xml:lang="cs">s použitím nástroje LocoNet Konfigurovat moduly LNCV.</text>
              </label>
              <label>
                <text> </text>
              </label>

              <label>
                <text>LNCV3 Configuration</text>
                <text xml:lang="nl">Instelling LNCV3</text>
                <text xml:lang="de">LNCV3 Konfiguration</text>
                <text xml:lang="fr">Configuration LNCV3</text>
                  <text xml:lang="cs">Konfigurace LNCV</text>
              </label>
              <separator/>
                <display item="Send GPON" format="checkbox"/>
                <display item="Send Short" format="checkbox"/>
                <display item="Configuration"/>
            </column>
        </row>
    </pane>

</decoder-config>
